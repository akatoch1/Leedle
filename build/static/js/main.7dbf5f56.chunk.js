(this.webpackJsonpleedle=this.webpackJsonpleedle||[]).push([[0],{62:function(e,t,n){e.exports=n(82)},67:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),o=n.n(i);n(67),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(15),s=n(12),u=n(20),l=n(21),p=n(22),m=n(17),b=n(29),h=a.a.createContext(null),d=n(40),f=n.n(d),E=(n(72),n(73),{apiKey:"AIzaSyDG5V5TbBUBubeLLGZPFkxVuZfiQP6ffoo",authDomain:"reddit-8b4b4.firebaseapp.com",databaseURL:"https://reddit-8b4b4.firebaseio.com/",projectId:"reddit-8b4b4",storageBucket:"gs://reddit-8b4b4.appspot.com",messagingSenderId:404557240002}),g=function e(){Object(c.a)(this,e),f.a.initializeApp(E),this.auth=f.a.auth(),this.db=f.a.database()},O=n(52),v=n.n(O),j=function(e){return a.a.createElement("div",null,console.log(e),a.a.createElement("button",{type:"button",onClick:function(){return v.a.auth().signOut()}}," Sign Out "))},y=n(13),k=n(112),S=n(111),C=n(109);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var P=Object(k.a)(S.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:10,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"}),D={topic:"",clicked:!1},x=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.topic;n.props.firebase.db.ref("/topics/"+n.props.user.displayName).push(t),n.setState({clicked:!1})},n.onClick=function(e){e.preventDefault(),n.setState({clicked:!0})},n.onChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},D),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.topic;return 1==e.clicked?a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(C.a,{id:"outlined-multiline-static",name:"topic",align:"middle",value:t,onChange:this.onChange,type:"text",placeholder:"Topic"}),a.a.createElement("div",{id:"post"},a.a.createElement("button",{type:"submit"},"Post"))):this.props.user?a.a.createElement("div",{id:"create"},a.a.createElement(P,{type:"submit",onClick:this.onClick},"Create")):null}}]),t}(r.Component),B=function(e){return a.a.createElement("div",null,a.a.createElement(h.Consumer,null,(function(t){return a.a.createElement(x,{firebase:t,user:e.user})})))},I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.comment;n.props.firebase.db.ref(n.props.topic+"/"+n.props.user.displayName).push(t),n.setState({comment:""})},n.onChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.state={clicked:!1,comments:[],comment:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.db.ref(this.props.topic).on("value",(function(t){var n=t.val(),r=Object.keys(n),a=[];r.map((function(t){e.props.firebase.db.ref(e.props.topic+"/"+t).on("value",(function(e){var n=e.val();Object.keys(n).map((function(e){a.push([t,n[e]])}))}))})),e.setState({comments:a})}))}},{key:"render",value:function(){var e=this.state.comment;return this.props.user?a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("div",{id:"comment"},this.state.comments.map((function(e){return a.a.createElement("h1",{key:e},e[0],": ",e[1])})),a.a.createElement(C.a,{id:"outlined-multiline-static",name:"comment",align:"middle",value:e,onChange:this.onChange,type:"text",placeholder:"Add a comment"}),a.a.createElement("button",{onClick:this.onClick},"Add"))):a.a.createElement("div",{id:"comment"},this.state.comments.map((function(e){return a.a.createElement("h1",{key:e},e[0],": ",e[1])})))}}]),t}(r.Component),A=function(e){return a.a.createElement("div",null,a.a.createElement(h.Consumer,null,(function(t){return a.a.createElement(I,{firebase:t,user:e.user,topic:e.topic})})))},F=Object(k.a)(S.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px",top:"20px"}),L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onButtonClick=function(e){n.setState({click:!0}),n.setState({chosen:e})},n.onHome=function(e){n.setState({click:!1})},n.state={topics:[],users:[],click:!1,chosen:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.db.ref("/topics/").on("value",(function(t){var n=t.val(),r=Object.keys(n),a=[];r.map((function(t){e.props.firebase.db.ref("topics/"+t).on("value",(function(e){var n=e.val();Object.keys(n).map((function(e){a.push([t,n[e]])}))}))})),e.setState({topics:a})}))}},{key:"render",value:function(){var e=this,t=this.state,n=(t.topics,t.click);t.users;return 1==n?this.props.user?a.a.createElement("div",null,a.a.createElement("h1",null,"Leedle"),a.a.createElement(j,Object.assign({},this.props,{user:this.props.user})),a.a.createElement(B,Object.assign({},this.props,{user:this.props.user})),a.a.createElement(A,Object.assign({},this.props,{user:this.props.user,topic:this.state.chosen}))):a.a.createElement("div",null,a.a.createElement("h1",null,"Leedle"),a.a.createElement("ul",null,a.a.createElement(m.b,{to:"/signin"},"Sign In")),a.a.createElement("ul",null,a.a.createElement(m.b,{to:"/signup"}," Sign Up")),a.a.createElement("button",{type:"submit",onClick:this.onHome},"Home"),a.a.createElement(A,Object.assign({},this.props,{user:this.props.user,topic:this.state.chosen}))):this.props.user?a.a.createElement("div",null,a.a.createElement("h1",null,"Leedle"),a.a.createElement(j,Object.assign({},this.props,{user:this.props.user})),a.a.createElement(B,Object.assign({},this.props,{user:this.props.user})),a.a.createElement("div",{id:"topic"},this.state.topics.map((function(t){return a.a.createElement(F,{onClick:function(){return e.onButtonClick(t[1])},key:t},"Created by: ",t[0]," ",t[1])})))):a.a.createElement("div",null,a.a.createElement("h1",null,"Leedle"),a.a.createElement("ul",null,a.a.createElement(m.b,{to:"/signin"},"Sign In")),a.a.createElement("ul",null,a.a.createElement(m.b,{to:"/signup"}," Sign Up")),a.a.createElement("div",{id:"topic"},this.state.topics.map((function(t){return a.a.createElement(F,{onClick:function(){return e.onButtonClick(t[1])},key:t},"Created by: ",t[0]," ",t[1])}))),a.a.createElement("button",{type:"submit",onClick:this.onHome},"Home"),a.a.createElement(B,Object.assign({},this.props,{user:this.props.user})))}}]),t}(r.Component),U=function(e){return a.a.createElement("div",{id:"landing"},a.a.createElement(h.Consumer,null,(function(t){return a.a.createElement(L,{firebase:t,user:e.user})})))};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={email:"",password:"",name:"",error:null},M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state,r=t.email,a=t.password,i=t.name;t.error,n.props.firebase.db;return n.props.firebase.auth.createUserWithEmailAndPassword(r,a).then((function(e){return e.user.updateProfile({displayName:i})})).catch((function(e){document.querySelector("#error").innerText=e.message})),n.setState(N({},W)),!1},n.onChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.state=N({},W),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,r=e.name;e.error;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{name:"name",value:r,onChange:this.onChange,type:"text",placeholder:"Name"}),a.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email"}),a.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),a.a.createElement("button",{type:"submit"},"Sign Up"),a.a.createElement("div",{id:"error"}))}}]),t}(r.Component),R=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"SignUp"),a.a.createElement(h.Consumer,null,(function(e){return a.a.createElement(M,{firebase:e})})))};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={email:"",password:"",error:null},J=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state,r=t.email,a=t.password;t.error;return n.props.firebase.auth.signInWithEmailAndPassword(r,a).then((function(){n.setState(z({},G))})).catch((function(e){n.setState({error_msg:e})})),!1},n.onChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.state=z({},G),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,r=e.error;return this.props.user?a.a.createElement(b.a,{to:"/"}):a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email"}),a.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),a.a.createElement("button",{type:"submit"},"Sign In"),r&&a.a.createElement("p",null,r.message))}}]),t}(r.Component),V=function(e){return a.a.createElement("div",null,a.a.createElement("h1",null,"SignIn"),a.a.createElement(h.Consumer,null,(function(t){return a.a.createElement(J,{firebase:t,user:e.user})})))},Z=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Home"))},q=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Admin"))},K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={user:null,channels:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){var e=this;return a.a.createElement(m.a,null,a.a.createElement("div",null,a.a.createElement("hr",null),a.a.createElement(b.d,null,a.a.createElement(b.b,{exact:!0,path:"/",render:function(t){return a.a.createElement(U,Object.assign({},t,{user:e.state.user}))}}),a.a.createElement(b.b,{path:"/signup",component:R}),a.a.createElement(b.b,{path:"/signin",render:function(t){return a.a.createElement(V,Object.assign({},t,{user:e.state.user}))}}),a.a.createElement(b.b,{path:"/signin",render:function(t){return a.a.createElement(V,Object.assign({},t,{user:e.state.user}))}}),a.a.createElement(b.b,{path:"/home",component:Z}),a.a.createElement(b.b,{path:"/admin",component:q}),a.a.createElement(b.b,{path:"/signout",render:function(e){return a.a.createElement(j,e)}}))))}}]),t}(r.Component),Q=function(){return a.a.createElement("div",null,a.a.createElement(h.Consumer,null,(function(e){return a.a.createElement(K,{firebase:e})})))};o.a.render(a.a.createElement(h.Provider,{value:new g},a.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,1,2]]]);
//# sourceMappingURL=main.7dbf5f56.chunk.js.map